(function(e){e.fn.countoverdue=function(t){var n=e(this);if(t=="end"){clearInterval(m);e(n).html("")}else{if(m){clearInterval(m);e(n).html("")}var r={timer_span:"countoverdue-timer",negtimer_span:"countoverdue-negtimer",timer_pre:"",negtimer_pre:"-",separator:":",negseparator:":",timer_post:"",negtimer_post:""};if((typeof t==="string"||typeof t==="number")&&e.trim(t)!=""){var i={date:t};var s=e.extend({},r,i)}else{var s=e.extend({},r,t)}var o=new Date(s.date);var u=new Date;var a=0;var f=(o.getTime()-u.getTime())/1e3;var l=Math.floor(Math.abs(f)/60);var c=Math.abs(f)-l*60;var h=String(parseInt(c,10)).split("");if(h.length<2){h=["0",h[0]]}e(n).html('<span class="'+s.timer_span+'"></span>');e("."+s.timer_span,n).append('<span class="countoverdue-pretimer">'+s.timer_pre+"</span>");e("."+s.timer_span,n).append('<span class="countoverdue-mins">'+l+"</span>");e("."+s.timer_span,n).append('<span class="countoverdue-separator">'+s.separator+"</span>");e("."+s.timer_span,n).append('<span class="countoverdue-tsecs">'+h[0]+"</span>");e("."+s.timer_span,n).append('<span class="countoverdue-osecs">'+h[1]+"</span>");e("."+s.timer_span,n).append('<span class="countoverdue-posttimer">'+s.timer_post+"</span>");if(f<0){a=1;e("."+s.timer_span,n).addClass(s.negtimer_span).removeClass(s.timer_span);e(".countoverdue-pretimer",n).html(s.negtimer_pre);e(".countoverdue-separator",n).html(s.negseparator);e(".countoverdue-posttimer",n).html(s.negtimer_post)}else{e(".countoverdue-pretimer",n).html(s.timer_pre);e(".countoverdue-separator",n).html(s.separator);e(".countoverdue-posttimer",n).html(s.timer_post)}var p=e(".countoverdue-osecs",n).text();var d=e(".countoverdue-tsecs",n).text();var v=e(".countoverdue-mins",n).text();var m=setInterval(function(){if(a==1){if(p>=9){if(d>=5){p=0;e(".countoverdue-osecs",n).text(p);d=0;e(".countoverdue-tsecs",n).text(d);e(".countoverdue-mins",n).text(++v)}else{e(".countoverdue-tsecs",n).text(++d);p=0;e(".countoverdue-osecs",n).text(p)}}else{e(".countoverdue-osecs",n).text(++p)}}else{if(p<=0){if(d<=0){if(v<=0){a=1;e("."+s.timer_span,n).addClass(s.negtimer_span).removeClass(s.timer_span);e(".countoverdue-pretimer",n).html(s.negtimer_pre);e(".countoverdue-separator",n).html(s.negseparator);e(".countoverdue-posttimer",n).html(s.negtimer_post)}else{p=9;e(".countoverdue-osecs",n).text(p);d=5;e(".countoverdue-tsecs",n).text(d);e(".countoverdue-mins",n).text(--v)}}else{e(".countoverdue-tsecs",n).text(--d);p=9;e(".countoverdue-osecs",n).text(p)}}else{e(".countoverdue-osecs",n).text(--p)}}},1e3)}}})(jQuery)
